{% extends 'base/base.html' %}
{% block js %}
    <script src="/static/js/course/course.js"></script>
{% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
            <div class="col-md-8 col-md-offset-2">
                <div class="well">
                    <h2 align="center"> Gerenciamento de Cursos</h2>
                    <div id="fields">
                        {{ csrf_input() }}
                        {{ form_input('Nome','name','','', 'text') }}
                        {{ form_input('Duração','duration','','', 'text') }}
                        <label class="control-label">Matérias:&nbsp;&nbsp;</label>
                        <select name="subjects">
                            {% for sub in subjects %}
                                <option value="{{ sub.key.id() }}">{{ sub.name }}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div align="center">
                        <button id="salvar" class="btn btn-log">Criar</button>
                        <img id="ajax-save-gif" src="/static/img/ajax.gif" />
                        <button id="gerenciar" class="btn btn-log">Editar/Excluir</button>
                    </div>
                    <br><br>

                    <div id="ol">
                        <table class="table table-striped table-hover">
                            <thead>
                            <tr>
                                <th>{% trans %} Nome {% endtrans %}</th>
                                <th>{% trans %} Duração {% endtrans %}</th>
                                <th>{% trans %} Criação {% endtrans %}</th>
                            </tr>
                            </thead>

                            {% for c in courses %}
                                <tr value="{{ c.key.id() }}">
                                    <td> {{ c.name }} </td>
                                    <td> {{ c.duration }} </td>
                                    <td> {{ c.criacao }} </td>
                                    <td>
                                        <a class="btn btn-success" href="{{ c.edit_path }}" style="background: #10698F !important; margin-left: 10px">
                                            <i class="glyphicon glyphicon-pencil"></i>
                                        </a>
                                    </td>
                                    <td>
                                        <button class="btn btn-danger" value="{{ c.key.id() }}" style="margin-left: 10px">
                                            <i class="glyphicon glyphicon-trash"></i>
                                        </button>
                                    </td>
                                </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}


